<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AirCare - Monitoreo de Calidad del Aire</title>
  <link rel="stylesheet" href="output.css">
  <!-- Precargar las fuentes -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
  
  <!-- Cargar Firebase primero -->
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-database-compat.js"></script>
</head>
<body>
  <div class="loading-overlay" id="loading-overlay">
    <div class="loader"></div>
    <p>Conectando con AirCare...</p>
  </div>

  <div class="container">
    <header>
      <div class="logo">
        <h1>AirCare</h1>
        <p>Monitoreo de Calidad del Aire</p>
      </div>
      <div class="connection-status" id="connection-status">
        <span class="status-dot"></span>
        <span class="status-text">Conectando...</span>
      </div>
    </header>

    <main>
      <div class="sensor-grid" id="sensor-data">
        <div class="sensor-card temperature">
          <div class="icon">🌡️</div>
          <h2>Temperatura</h2>
          <p id="temperature-value" class="sensor-value">--.-</p>
          <p class="unit">°C</p>
        </div>
        <div class="sensor-card humidity">
          <div class="icon">💧</div>
          <h2>Humedad</h2>
          <p id="humidity-value" class="sensor-value">--.-</p>
          <p class="unit">%</p>
        </div>
        <div class="sensor-card co2">
          <div class="icon">🌬️</div>
          <h2>CO2</h2>
          <p id="co2-value" class="sensor-value">----</p>
          <p class="unit">ppm</p>
        </div>
        <div class="sensor-card pm">
          <div class="icon">🔍</div>
          <h2>PM1</h2>
          <p id="pm1-value" class="sensor-value">--.-</p>
          <p class="unit">µg/m³</p>
        </div>
        <div class="sensor-card pm">
          <div class="icon">🔍</div>
          <h2>PM2.5</h2>
          <p id="pm2_5-value" class="sensor-value">--.-</p>
          <p class="unit">µg/m³</p>
        </div>
        <div class="sensor-card pm">
          <div class="icon">🔍</div>
          <h2>PM4</h2>
          <p id="pm4-value" class="sensor-value">--.-</p>
          <p class="unit">µg/m³</p>
        </div>
        <div class="sensor-card pm">
          <div class="icon">🔍</div>
          <h2>PM10</h2>
          <p id="pm10-value" class="sensor-value">--.-</p>
          <p class="unit">µg/m³</p>
        </div>
        <div class="sensor-card voc">
          <div class="icon">🧪</div>
          <h2>TVOC</h2>
          <p id="tvoc-value" class="sensor-value">--</p>
          <p class="unit">ppb</p>
        </div>
        <div class="sensor-card filtro">
          <div class="icon">🔽</div>
          <h2>FILTRO</h2>
          <p id="filtro-value" class="sensor-value">--</p>
          <p class="unit">estado</p>
        </div>
        <div class="sensor-card ventilador">
          <div class="icon">🔽</div>
          <h2>VENTILADOR</h2>
          <p id="ventilator-value" class="sensor-value">--</p>
          <p class="unit">estado</p>
        </div>
      </div>
    </main>

    <div id="error" class="error-message"></div>

    <footer>
      <div class="last-update">
        <p>Última actualización: <span id="last-update">--/--/---- --:--:--</span></p>
      </div>
      <div class="debug-toggle">
        <button id="toggle-debug">Mostrar información de depuración</button>
        <div class="debug-info" id="debug-info" style="display: none;">
          <h3>Información de depuración</h3>
          <pre id="debug-data">Cargando información...</pre>
        </div>
      </div>
    </footer>
  </div>
  
  <!-- Script principal al final del body -->
  <script src="script.js"></script>
</body>
</html>